{"version":3,"sources":["baseURL.js","api.js","set-global.js","create-fetcher.js","LandingPage.js","history.js","FoodCart.js","OrderManage.js","FoodManage.js","DeskManage.js","ChangeFood.js","AddFood.js","RestaurantManage.js","Login.js","HomePage.js","OrderSuccess.js","Register.js","App.js","serviceWorker.js","index.js","CSS/bgi.jpeg"],"names":["baseURL","api","axios","create","withCredentials","window","_","f","cache","read","args","key","join","then","val","fetcher","createFetcher","did","get","DeskInfo","info","data","title","name","withRouter","props","useState","custom","setCustom","rid","match","params","className","fallback","onClick","htmlFor","type","value","onChange","e","target","style","width","height","alert","history","push","createHashHistory","MenuItem","food","onUpdata","amount","textAlign","src","img","alt","desc","price","caclTotalPrice","cartAry","reduce","total","item","CartStatus","expend","setExpend","totalPrice","foods","icon","onPlaceOrder","FoodCart","cartChange","socket","emit","desk","foodChange","updated","produce","state","cart","idx","findIndex","it","id","splice","setState","placeOrder","post","deskName","deskInfo","customCount","count","res","pathname","foodMenu","foodMenuAll","foodMenu2","foodMenu3","foodMenu4","foodMenu5","foodMenu6","foodMenu7","foodMenu8","this","filter","category","io","connect","on","order","close","index","backgroundColor","onSelect","bind","Item","map","currentAmount","currFoodCartItem","find","cartItem","React","Component","orderItemStyle","boxSizing","padding","margin","position","transition","border","borderRadius","boxShadow","showOrder","display","flexWrap","OrderTable","columns","label","prop","list","console","log","maxHeight","OrderDetail","fontSize","foodDetail","details","MessageBox","msgbox","message","showCancelButton","action","Message","OrderItem","onDelete","orderInfo","setOrderInfo","marginTop","marginLeft","status","size","color","put","delete","OrderManage","orders","allOrders","pendingOrders","confirmedOrders","completedOrders","restaurant","unshift","mode","setFoods","FoodItem","foodProps","foodInfo","setFoodInfo","query","fid","useEffect","DeskItem","lineHeight","capacity","FormItem","confilm","a","forms","form","fd","FormData","append","location","imgChange","files","Object","assign","labelPosition","labelWidth","model","placeholder","Option","userInfoFetcher","catch","RestaurantInfo","navStyle","textDecoration","defaultActive","to","path","component","FoodManage","DeskManage","ChangeFood","AddFood","bgcStyle","backgroundImage","bgi","backgroundSize","loginStyle","loginHeader","marginBottom","LoginForm","login","response","msg","password","captcha","captchaUrl","btoa","marginRight","homePage","overflow","backgroundStyle","headerStyle","buttonStyle","borderBottom","registerStyle","registerHeader","rigister","email","App","exact","HomePage","LandingPage","OrderSuccess","RestaurantManage","Login","Register","Boolean","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.87779b59.chunk.js","sourcesContent":["/*\r\n * @Author: your name\r\n * @Date: 2019-11-24 19:14:43\r\n * @LastEditTime: 2019-11-24 19:15:54\r\n * @LastEditors: your name\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\order-system\\frontend\\src\\baseURL.js\r\n */\r\nvar baseURL = 'http://localhost:5000/'\r\n\r\nexport default baseURL;","/*\r\n * @Author: your name\r\n * @Date: 2019-11-24 19:13:08\r\n * @LastEditTime: 2019-11-24 19:16:51\r\n * @LastEditors: your name\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\order-system\\frontend\\src\\api.js\r\n */\r\nimport axios from 'axios';\r\nimport baseURL from './baseURL';\r\n\r\nvar api = axios.create({\r\n    baseURL: baseURL + 'api',\r\n    withCredentials: true,\r\n})\r\n\r\nexport default api","/*\r\n * @Author: your name\r\n * @Date: 2019-11-25 09:18:58\r\n * @LastEditTime: 2019-11-25 09:19:23\r\n * @LastEditors: your name\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\order-system\\frontend\\src\\set-global.js\r\n */\r\nimport api from './api';\r\nimport axios from 'axios';\r\nimport _ from 'lodash';\r\n\r\nwindow._ = _;\r\nwindow.api = api;\r\nwindow.axios = axios;","/*\r\n * @Author: your name\r\n * @Date: 2019-11-24 19:28:38\r\n * @LastEditTime: 2019-11-25 08:53:25\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\order-system\\frontend\\src\\create-fetcher.js\r\n */\r\nexport default function(f){\r\n    var cache = {}\r\n\r\n    return {\r\n        read(...args){\r\n            var key = args.join('|')\r\n            if(key in cache){\r\n                return cache[key]\r\n            }else{\r\n                throw f(...args).then(val => {\r\n                    cache[key] = val\r\n                })\r\n            }\r\n        }\r\n    }\r\n}","/*\r\n * @Author: your name\r\n * @Date: 2019-11-24 16:42:15\r\n * @LastEditTime: 2019-11-30 14:31:01\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\order-system\\frontend\\src\\LandingPage.js\r\n */\r\nimport React, {useState, Suspense} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport api from './api';\r\nimport createFetcher from './create-fetcher';\r\nimport './CSS/LandingPage.css';\r\n\r\nimport {Button} from 'element-react';\r\n\r\nvar fetcher = createFetcher((did) => {\r\n    return api.get('/deskinfo?did=' + did)\r\n})\r\n\r\nfunction DeskInfo({did}){\r\n    var info = fetcher.read(did)\r\n\r\n    return (\r\n        <div>\r\n            <h2>欢迎光临：<span>{info.data.title}</span></h2>\r\n            <strong>当前桌号：<span>{info.data.name}</span></strong>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(function(props){\r\n    var [custom, setCustom] = useState(0);\r\n\r\n    var rid = props.match.params.rid\r\n    var did = props.match.params.did\r\n\r\n    function startOrder(){\r\n        if(custom <= 0){\r\n            alert('请重新选择人数！');\r\n        }else{\r\n            props.history.push(`/r/${rid}/d/${did}/c/${custom}`)\r\n        }\r\n    }\r\n\r\n    function changeCustom(e){\r\n        setCustom(e.target.value);\r\n    }\r\n    return (\r\n        <div className='LandingPage'>\r\n            <header className='header-style'>\r\n                <Suspense fallback={<div>Loading...</div>}>\r\n                    <DeskInfo did={did} />\r\n                </Suspense>\r\n            </header>\r\n            <main className='main-style'>\r\n                <h3>请选择人数开始点餐</h3>\r\n                <ul className='custom-count'>\r\n                    <li className={custom === 1 ? 'active' : null} onClick={() => setCustom(1)}>1</li>\r\n                    <li className={custom === 2 ? 'active' : null} onClick={() => setCustom(2)}>2</li>\r\n                    <li className={custom === 3 ? 'active' : null} onClick={() => setCustom(3)}>3</li>\r\n                    <li className={custom === 4 ? 'active' : null} onClick={() => setCustom(4)}>4</li>\r\n                </ul>\r\n                <div className='input-style'>\r\n                    <label className=\"label-style\" htmlFor='count'>其他人数：</label>\r\n                    <input name='count' type='text' value={custom} onChange={changeCustom} />\r\n                </div>\r\n                <Button style={{width: '180px', height: '45px'}} type=\"primary\" onClick={startOrder}>开始点餐</Button>\r\n            </main>\r\n        </div>\r\n    )\r\n})","/*\r\n * @Author: your name\r\n * @Date: 2019-11-25 08:58:23\r\n * @LastEditTime: 2019-11-25 09:00:40\r\n * @LastEditors: your name\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\order-system\\frontend\\src\\history.js\r\n */\r\nimport { createHashHistory } from 'history';\r\n\r\nexport default createHashHistory();","/*\r\n * @Author: your name\r\n * @Date: 2019-11-24 16:42:24\r\n * @LastEditTime: 2019-11-30 14:19:29\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\order-system\\frontend\\src\\FoodCart.js\r\n */\r\nimport React, {useState, Suspense} from 'react';\r\nimport baseURL from './baseURL';\r\nimport api from './api';\r\n// import PropTypes from 'prop-types';\r\nimport { produce } from 'immer';\r\nimport history from './history';\r\nimport io from 'socket.io-client';\r\nimport './CSS/foodCart.css';\r\nimport createFetcher from './create-fetcher';\r\nimport {Menu, Button} from 'element-react';\r\n\r\n\r\nfunction MenuItem({food, onUpdata, amount}){\r\n    function dec(){\r\n        if(amount === 0){\r\n            return \r\n        }\r\n        onUpdata(food, amount - 1);\r\n    }\r\n    function inc(){\r\n        onUpdata(food, amount + 1);\r\n    }\r\n    return (\r\n        <div className='menu-item'>\r\n            <h3 style={{textAlign: 'center'}}>{food.name}</h3>\r\n            <div>\r\n                <img src={baseURL + food.img} alt={food.name} />\r\n                <p>描述：{food.desc}</p>\r\n                <p>价格：<span className='price'>{food.price}元</span></p>\r\n            </div>\r\n            <div className=\"count-style\">\r\n                <button className='count-button' onClick={dec}>-</button>\r\n                <span>{amount}</span>\r\n                <button className='count-button' onClick={inc}>+</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n// MenuItem.PropTypes = {\r\n//     food: PropTypes.object.isRequired,\r\n//     onUpdata: PropTypes.func,\r\n// }\r\n// MenuItem.defaultProps = {\r\n//     onUpdata: () => {},\r\n// }\r\n\r\nfunction caclTotalPrice(cartAry){\r\n    return cartAry.reduce((total, item) => {\r\n        return total + item.amount * item.food.price\r\n    }, 0)\r\n}\r\n\r\nfunction CartStatus(props){\r\n    let [expend, setExpend] = useState(false);\r\n    let totalPrice = caclTotalPrice(props.foods)\r\n    return (\r\n        <div className='cart-confirm'>\r\n            {expend ? \r\n                <Button className='expend' icon=\"arrow-down\" onClick={() => setExpend(false)}></Button> : \r\n                <Button className='expend' icon=\"arrow-up\" onClick={() => setExpend(true)}></Button>\r\n            }\r\n            <strong>总价：￥<span className='total-price'>{totalPrice}</span>元</strong>\r\n            <Button className='confirm-button' onClick={() => props.onPlaceOrder()}>下单</Button>\r\n        </div>\r\n    )\r\n}\r\n\r\nvar fetcher = createFetcher((did) => {\r\n    return api.get('/deskinfo?did=' + did)\r\n})\r\nfunction DeskInfo({did}){\r\n    var info = fetcher.read(did)\r\n\r\n    return (\r\n        <div>\r\n            <h2>欢迎光临：<span>{info.data.title}</span></h2>\r\n            <strong>当前桌号：<span>{info.data.name}</span></strong>\r\n        </div>\r\n    )\r\n}\r\nexport default class FoodCart extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            cart: [],\r\n            deskInfo: null,\r\n            foodMenu: [],\r\n            foodMenuAll: [],\r\n            foodMenu2: [],\r\n            foodMenu3: [],\r\n            foodMenu4: [],\r\n            foodMenu5: [],\r\n            foodMenu6: [],\r\n            foodMenu7: [],\r\n            foodMenu8: [],\r\n        }\r\n    }\r\n\r\n    async componentDidMount(){\r\n        var params = this.props.match.params\r\n        \r\n        api.get('/deskinfo?did=' + params.did).then(val => {\r\n            this.setState({\r\n                deskInfo: val.data\r\n            })\r\n        })\r\n\r\n        await api.get('/menu/restaurant/' + params.rid).then(val => {\r\n            this.setState({\r\n                foodMenuAll: val.data\r\n            })\r\n        })\r\n        this.setState({\r\n            foodMenu: this.state.foodMenuAll\r\n        })\r\n        this.setState({\r\n            foodMenu2: this.state.foodMenuAll.filter(it => it.category === '家常')\r\n        })\r\n        this.setState({\r\n            foodMenu3: this.state.foodMenuAll.filter(it => it.category === '荤菜')\r\n        })\r\n        this.setState({\r\n            foodMenu4: this.state.foodMenuAll.filter(it => it.category === '凉菜')\r\n        })\r\n        this.setState({\r\n            foodMenu5: this.state.foodMenuAll.filter(it => it.category === '海鲜')\r\n        })\r\n        this.setState({\r\n            foodMenu6: this.state.foodMenuAll.filter(it => it.category === '汤类')\r\n        })\r\n        this.setState({\r\n            foodMenu7: this.state.foodMenuAll.filter(it => it.category === '主食甜点')\r\n        })\r\n        this.setState({\r\n            foodMenu8: this.state.foodMenuAll.filter(it => it.category === '饮品')\r\n        })\r\n\r\n        // this.socket = io('ws://localhost:5000/desk/');\r\n        this.socket = io.connect('ws://localhost:5000', {\r\n            'path': '/desk',\r\n            'query': {\r\n                desk: `desk:${params.rid}`\r\n                }\r\n            }\r\n        )\r\n      \r\n        this.socket.on('connect', () => {\r\n            // console.log('connect on')\r\n            this.socket.emit('join desk', 'desk:' + params.did)\r\n        })\r\n    \r\n        // 后端发回此桌面已点菜单\r\n        this.socket.on('cart food', info => {\r\n            this.setState(produce(state => {\r\n                state.cart.push(...info)\r\n            }))\r\n        })\r\n      \r\n          // 来自同桌其它用户新增的菜单\r\n        this.socket.on('new food', info => {\r\n            // console.log(info)\r\n            this.foodChange(info.food, info.amount)\r\n        })\r\n        //当其中一个用户下单后，所有用户跳转至下单成功页面\r\n        this.socket.on('placeorder success', order => {\r\n            history.push({\r\n                pathname: `/r/${params.rid}/d/${params.did}/order-success`,\r\n                state: order,\r\n            })\r\n        })\r\n    }\r\n    componentWillUnmount() {\r\n        this.socket.close()\r\n    }\r\n    \r\n    cartChange = (food, amount) => {\r\n        var params = this.props.match.params\r\n        this.socket.emit('new food', {desk: 'desk:' + params.did, food, amount})\r\n    }\r\n\r\n    foodChange = (food, amount) => {\r\n        var updated = produce(this.state.cart, cart => {\r\n            var idx = cart.findIndex(it => it.food.id === food.id)\r\n            if(idx >= 0){\r\n                if(amount === 0){\r\n                    cart.splice(idx, 1)\r\n                }else{\r\n                    cart[idx].amount = amount\r\n                }\r\n            }else{\r\n                cart.push({\r\n                    food,\r\n                    amount,\r\n                })\r\n            }\r\n        })\r\n        this.setState({cart: updated});\r\n    }\r\n    placeOrder = () => {\r\n        var params = this.props.match.params\r\n\r\n        api.post(`/restaurant/${params.rid}/desk/${params.did}/order`, {\r\n            deskName: this.state.deskInfo.name,\r\n            customCount: params.count,\r\n            totalPrice: caclTotalPrice(this.state.cart),\r\n            foods: this.state.cart,\r\n        }).then(res => {\r\n            history.push({\r\n                pathname: `/r/${params.rid}/d/${params.did}/order-success`,\r\n                state: res.data\r\n            })\r\n        })\r\n    }\r\n    onSelect(index) {\r\n        if(index === '1'){\r\n            this.setState({\r\n                foodMenu: this.state.foodMenuAll\r\n            })\r\n        }else if(index === '2'){\r\n             this.setState({\r\n                foodMenu: this.state.foodMenu2\r\n            })\r\n        }else if(index === '3'){\r\n             this.setState({\r\n                foodMenu: this.state.foodMenu3\r\n            })\r\n        }else if(index === '4'){\r\n             this.setState({\r\n                foodMenu: this.state.foodMenu4\r\n            })\r\n        }else if(index === '5'){\r\n             this.setState({\r\n                foodMenu: this.state.foodMenu5\r\n            })\r\n        }else if(index === '6'){\r\n             this.setState({\r\n                foodMenu: this.state.foodMenu6\r\n            })\r\n        }else if(index === '7'){\r\n             this.setState({\r\n                foodMenu: this.state.foodMenu7\r\n            })\r\n        }else if(index === '8'){\r\n             this.setState({\r\n                foodMenu: this.state.foodMenu8\r\n            })\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className='food-cart'>\r\n                 <header className='header-style'>\r\n                    <Suspense fallback={<div>Loading...</div>}>\r\n                        <DeskInfo did={this.props.match.params.did} />\r\n                    </Suspense>\r\n                </header>\r\n                <section>\r\n                    <aside>\r\n                        <Menu className=\"el-menu-vertical-demo\" style={{backgroundColor:'#E5E9F2', width: '180px', textAlign: 'center'}} onSelect={this.onSelect.bind(this)}>\r\n                            <Menu.Item index=\"1\">所有菜品</Menu.Item>\r\n                            <Menu.Item index=\"2\">家常</Menu.Item>\r\n                            <Menu.Item index=\"3\">荤菜</Menu.Item>\r\n                            <Menu.Item index=\"4\">凉菜</Menu.Item>\r\n                            <Menu.Item index=\"5\">海鲜</Menu.Item>\r\n                            <Menu.Item index=\"6\">汤类</Menu.Item>\r\n                            <Menu.Item index=\"7\">主食甜点</Menu.Item>\r\n                            <Menu.Item index=\"8\">饮品</Menu.Item>\r\n                        </Menu>\r\n                    </aside>\r\n                    <main>\r\n                        <div className='show-foods'>\r\n                            {\r\n                                this.state.foodMenu.map(food => {\r\n                                    var currentAmount = 0\r\n                                    var currFoodCartItem = this.state.cart.find(cartItem => cartItem.food.id === food.id)\r\n                                    if (currFoodCartItem) {\r\n                                      currentAmount = currFoodCartItem.amount\r\n                                    }\r\n                                    return <MenuItem key={food.id} food={food} amount={currentAmount} onUpdata={this.cartChange} />\r\n                                })\r\n                            }\r\n                        </div>\r\n                        <CartStatus foods={this.state.cart} onUpdata={this.cartChange} onPlaceOrder={this.placeOrder} /> \r\n                    </main>\r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}","/*\r\n * @Author: your name\r\n * @Date: 2019-11-24 16:52:25\r\n * @LastEditTime: 2019-11-30 14:26:57\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\order-system\\frontend\\src\\OrderManage.js\r\n */\r\nimport React, {useState, Suspense} from 'react';\r\nimport io from 'socket.io-client';\r\nimport api from './api';\r\n\r\nimport { produce } from 'immer';\r\nimport {Menu, Button, MessageBox, Message, Table} from 'element-react';\r\n\r\n\r\nvar orderItemStyle = {\r\n    boxSizing: 'border-box',\r\n    height: '260px',\r\n    width: '300px',\r\n    padding: '10px 30px',\r\n    margin: '20px',\r\n    position: 'relative',\r\n    transition: '0.4s',\r\n    border: '1px solid #d1dbe5',\r\n    borderRadius: '4px',\r\n    backgroundColor: '#fff',\r\n    boxShadow: '0 2px 4px 0 rgba(0,0,0,.12), 0 0 6px 0 rgba(0,0,0,.04)',\r\n}\r\nvar showOrder = {\r\n    width: '',\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n}\r\nclass OrderTable extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            columns: [\r\n                {\r\n                    label: \"菜品名称\",\r\n                    prop: \"name\",\r\n                    width: 125\r\n                  },\r\n                  {\r\n                    label: \"数量\",\r\n                    prop: \"amount\",\r\n                    width: 80\r\n                  },\r\n                  {\r\n                    label: \"单价\",\r\n                    prop: \"price\",\r\n                    width: 85\r\n                  },\r\n                  {\r\n                    label: \"合计\",\r\n                    prop: \"total\",\r\n                    width: 88\r\n                  }\r\n            ],\r\n            data: this.props.list,\r\n        }\r\n    }\r\n    render() {\r\n        console.log(this.state.data);\r\n        return (\r\n            <Table\r\n                style={{width: '100%'}}\r\n                columns={this.state.columns}\r\n                maxHeight={200}\r\n                data={this.state.data}\r\n            />\r\n        )\r\n    }\r\n}\r\nclass OrderDetail extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n    }\r\n    render() {\r\n            return <Button style={{fontSize: '17px'}} type=\"text\" onClick={this.onClick.bind(this)}>查看详单</Button>\r\n        }\r\n        foodDetail(){\r\n            var foodDetail = this.props.order.details;\r\n            let list = [];\r\n            for(let key in foodDetail){\r\n                let val = foodDetail[key]\r\n                let total = val.amount * val.food.price;\r\n                list.push({'name': val.food.name, 'amount': val.amount, 'price':val.food.price, \"total\": total})\r\n            }\r\n            return <div><OrderTable list={list} /></div>\r\n        }\r\n        onClick() {\r\n            MessageBox.msgbox({\r\n            title: '菜品详单',\r\n            message: this.foodDetail(),\r\n            showCancelButton: true\r\n            }).then(action => {\r\n            Message({\r\n                type: 'info',\r\n                message: 'action: ' + action\r\n            });\r\n            })\r\n        }\r\n}\r\nfunction OrderItem({order, onDelete}){\r\n    var [orderInfo, setOrderInfo] = useState(order)\r\n\r\n    function setConfirm(){\r\n        api.put(`/restaurant/1/order/${order.id}/status`,{\r\n            status: 'confirmed'\r\n        }).then(() => {\r\n            setOrderInfo({\r\n                ...orderInfo,\r\n                status: 'confirmed'\r\n            })\r\n        })\r\n    }\r\n    function setComplited(){\r\n        api.put(`/restaurant/1/order/${order.id}/status`,{\r\n            status: 'completed'\r\n        }).then(() => {\r\n            setOrderInfo({\r\n                ...orderInfo,\r\n                status: 'completed'\r\n            })\r\n        })\r\n    }\r\n    function deleteOrder(){\r\n        api.delete(`/restaurant/1/order/${order.id}`).then(() => {\r\n            onDelete(order);\r\n        });\r\n    }\r\n    return (\r\n        <div style={orderItemStyle}>\r\n            <h2 style={{marginTop: '5px'}}>桌号：{order.deskName}</h2>\r\n            <h3>总价格：{order.totalPrice}元<span style={{marginLeft:'20px'}}>人数：{order.customCount}人</span></h3>\r\n            <h3>订单详情：<OrderDetail order={order} /></h3>\r\n            <h3>订单状态：{order.status}</h3>\r\n            <div>\r\n                <Button size='small' style={{backgroundColor: '#8492A6', color: '#fff'}} onClick={setConfirm}>确认</Button>\r\n                <Button size='small' style={{backgroundColor: '#8492A6', color: '#fff'}} onClick={setComplited}>完成</Button>\r\n                <Button size='small' style={{backgroundColor: '#8492A6', color: '#fff'}} onClick={deleteOrder}>删除</Button>\r\n                <Button size='small' style={{backgroundColor: '#8492A6', color: '#fff'}}>打印</Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default class OrderManage extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            orders: [],\r\n            allOrders: [],\r\n            pendingOrders: [],\r\n            confirmedOrders: [],\r\n            completedOrders: [],\r\n        }\r\n    }\r\n\r\n    async componentDidMount(){\r\n        var params = this.props.match.params\r\n        this.socket = io.connect('ws://localhost:5000', {\r\n            'path': '/restaurant',\r\n            'query': {\r\n                    restaurant: `restaurant:${params.rid}`\r\n                }\r\n            }\r\n        )\r\n    \r\n        this.socket.on('connection', () => {\r\n            this.socket.emit('join restaurant', 'restaurant:' + params.rid)\r\n        })\r\n    \r\n        this.socket.on('new order', order => {\r\n            this.setState(produce(state => {\r\n                state.orders.unshift(order)\r\n            }))\r\n        })\r\n\r\n        var res = await api.get('/restaurant/1/order');\r\n        this.setState(produce(state => {\r\n            state.allOrders = res.data\r\n        }));\r\n        this.setState(produce(state => {\r\n            state.orders = this.state.allOrders\r\n        }));\r\n        this.setState(produce(state => {\r\n            state.pendingOrders = this.state.allOrders.filter(it => it.status === 'pending')\r\n        }));\r\n        this.setState(produce(state => {\r\n            state.confirmedOrders = this.state.allOrders.filter(it => it.status === 'confirmed')\r\n        }));\r\n        this.setState(produce(state => {\r\n            state.completedOrders = this.state.allOrders.filter(it => it.status === 'completed')\r\n        }));\r\n    }\r\n      \r\n    componentWillUnmount() {\r\n        this.socket.close()\r\n    }\r\n    onDelete = (order) => {\r\n        var idx = this.state.orders.findIndex(it => it.id === order.id);\r\n        this.setState(produce(this.state, state => {\r\n            state.orders.splice(idx, 1);\r\n        }))\r\n    }\r\n    onSelect(index) {\r\n        if(index === '1'){\r\n            this.setState(produce(state => {\r\n                state.orders = this.state.allOrders\r\n            }))\r\n        }else if(index === '2'){\r\n            this.setState(produce(state => {\r\n                state.orders = this.state.pendingOrders\r\n            }))\r\n        }else if(index === '3'){\r\n            this.setState(produce(state => {\r\n                state.orders = this.state.confirmedOrders\r\n            }))\r\n        }else if(index === '4'){\r\n            this.setState(produce(state => {\r\n                state.orders = this.state.completedOrders\r\n            }))\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <div>\r\n                <div style={{height: '60px'}}>\r\n                    <Menu className=\"el-menu-demo\" mode=\"horizontal\" onSelect={this.onSelect.bind(this)}>\r\n                        <Menu.Item index=\"1\">所有订单</Menu.Item>\r\n                        <Menu.Item index=\"2\">未处理订单</Menu.Item>\r\n                        <Menu.Item index=\"3\">已接订单</Menu.Item>\r\n                        <Menu.Item index=\"4\">历史订单</Menu.Item>\r\n                    </Menu>\r\n                </div>\r\n                <div style={showOrder}>\r\n                    {this.state.orders.map(order => {\r\n                        return <OrderItem onDelete={this.onDelete} key={order.id} order={order} />\r\n                    })}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","/*\r\n * @Author: your name\r\n * @Date: 2019-11-24 16:52:36\r\n * @LastEditTime: 2019-11-30 13:48:49\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\order-system\\frontend\\src\\FoodManage.js\r\n */\r\nimport React, { useState, useEffect } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport api from './api';\r\nimport './CSS/foodItem.css'\r\nimport baseURL from './baseURL'\r\n\r\nimport {Menu, Button} from 'element-react';\r\n\r\nexport default withRouter(function(props){\r\n    var [foods, setFoods] = useState([]);\r\n\r\n    useEffect(() => {\r\n        api.get('/restaurant/1/food').then(res => {\r\n            setFoods(res.data)\r\n        })\r\n    }, [])\r\n    \r\n    function FoodItem({food}){\r\n        var [foodProps, setFoodProps] = useState({\r\n            name: food.name,\r\n            desc: food.desc,\r\n            price: food.price,\r\n            category: food.category,\r\n            status: food.status,\r\n            img: null,\r\n        })\r\n        var [foodInfo, setFoodInfo] = useState(food)\r\n        function changeFood(){\r\n            props.history.push({pathname: `/manage/r/${props.match.params.rid}/changefood`, query:{fid: food.id} })\r\n        }\r\n        function deleteFood(){\r\n            api.delete(`/restaurant/${food.rid}/food/${food.id}`).then(() => {\r\n                onDelete(food.id)\r\n            })\r\n        }\r\n        function setOffLine(){\r\n            api.put(`/restaurant/${food.rid}/food/${food.id}`,{\r\n                ...foodProps,\r\n                status: 'off'\r\n            }).then(res => {\r\n                setFoodInfo(res.data)\r\n            })\r\n        }\r\n        function setOnLine(){\r\n            api.put(`/restaurant/${food.rid}/food/${food.id}`,{\r\n                ...foodProps,\r\n                status: 'on'\r\n            }).then(res => {\r\n                setFoodInfo(res.data)\r\n            })\r\n        }\r\n\r\n        return (\r\n            <div className='food-item'>\r\n                <img src={baseURL + food.img} className=\"image\" />\r\n                <div className=\"food-info\">\r\n                    <h3>{food.name}</h3>\r\n                    <div>\r\n                        <p>描述：{food.desc}</p>\r\n                        <p>单价：<span className='price'>{food.price} 元</span></p>\r\n                        <p>状态：<span>{food.status === 'on' ? '上架':'已下架'}</span></p>\r\n                    </div>\r\n                </div>\r\n                <div className='food-contral'>\r\n                    <Button size='large' type='primary' onClick={changeFood}>修改</Button>\r\n                    {\r\n                        foodInfo.status === 'off' ? \r\n                        <Button style={{margin: 0}} size='large' type='primary' onClick={setOnLine}>上架</Button> : \r\n                        <Button style={{margin: 0}} size='large' type='primary' onClick={setOffLine}>下架</Button>\r\n                    }\r\n                    <Button style={{margin: 0}} size='large' type='primary' onClick={deleteFood}>删除</Button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    function addFood(){\r\n        props.history.push(`/manage/r/${props.match.params.rid}/addfood`)\r\n    }\r\n    function onDelete(id){\r\n        setFoods(foods.filter(it => it.id !== id));\r\n    }\r\n    function onSelect(index) {\r\n        if(index === '1'){\r\n           console.log(1)\r\n        }else if(index === '2'){\r\n            console.log(2)\r\n        }else if(index === '3'){\r\n            console.log(3)\r\n        }else if(index === '4'){\r\n            console.log(4)\r\n        }else if(index === '5'){\r\n            console.log(5)\r\n        }else if(index === '6'){\r\n            console.log(6)\r\n        }else if(index === '7'){\r\n            console.log(7)\r\n        }else if(index === '8'){\r\n            console.log(8)\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <Menu className=\"el-menu-demo\" mode=\"horizontal\" onSelect={onSelect.bind(this)}>\r\n                <Menu.Item index=\"0\"><Button type=\"primary\" onClick={addFood}>添加菜品</Button></Menu.Item>\r\n                <Menu.Item index=\"1\">所有菜品</Menu.Item>\r\n                <Menu.Item index=\"2\">家常</Menu.Item>\r\n                <Menu.Item index=\"3\">荤菜</Menu.Item>\r\n                <Menu.Item index=\"4\">凉菜</Menu.Item>\r\n                <Menu.Item index=\"5\">海鲜</Menu.Item>\r\n                <Menu.Item index=\"6\">汤类</Menu.Item>\r\n                <Menu.Item index=\"7\">主食甜点</Menu.Item>\r\n                <Menu.Item index=\"8\">饮品</Menu.Item>\r\n            </Menu>\r\n            <div className='foods'>\r\n                {\r\n                    foods.map(food => {\r\n                        return <FoodItem onDelete={onDelete} key={food.id} food={food} />\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n})","/*\r\n * @Author: your name\r\n * @Date: 2019-11-24 16:52:45\r\n * @LastEditTime: 2019-11-28 21:06:54\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\order-system\\frontend\\src\\DeskManage.js\r\n */\r\nimport React from 'react';\r\nimport api from './api';\r\n\r\nfunction DeskItem({desk}){\r\n    var deskStyle = {\r\n        width: '300px',\r\n        height: '200px',\r\n        border: '1px solid #d1dbe5',\r\n        borderRadius: '6px',\r\n        margin: '20px',\r\n    }\r\n    return (\r\n        <div style={deskStyle}>\r\n            <h3 style={{textAlign: \"center\", lineHeight: '80px', fontSize: '30px'}}>桌号：{desk.name}</h3>\r\n            <p style={{textAlign: \"center\", lineHeight: '40px', fontSize: '20px'}}>最多容纳：{desk.capacity}人</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default class DeskInfo extends React.Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            deskInfo: []\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        api.get(`/restaurant/${this.props.match.params.rid}/desk`).then(res => {\r\n            this.setState({\r\n                deskInfo: res.data\r\n            })\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <div style={{display: 'flex', flexWrap: 'wrap',}}>\r\n                {\r\n                    this.state.deskInfo.map(desk => {\r\n                        return <DeskItem key={desk.id} desk={desk} />\r\n                    })\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}","/*\r\n * @Author: your name\r\n * @Date: 2019-11-25 13:50:46\r\n * @LastEditTime: 2019-11-30 09:40:33\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\order-system\\frontend\\src\\ChangeFood.js\r\n */\r\nimport React from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport api from './api';\r\n\r\nimport {Select, Form, Input, Button} from 'element-react';\r\n\r\n\r\nexport default withRouter(function(props){\r\n    class FormItem extends React.Component{\r\n        constructor(props) {\r\n            super(props);\r\n          \r\n            this.state = {\r\n                form: {\r\n                    name: '',\r\n                    price: '',\r\n                    status: '',\r\n                    desc: '',\r\n                    category: '',\r\n                    img: '',\r\n                }\r\n            };\r\n        }\r\n          \r\n        onChange(key, value) {\r\n            this.setState({\r\n                form: Object.assign(this.state.form, { [key]: value })\r\n            });\r\n        }\r\n    \r\n        confilm = async() => {\r\n            let forms = this.state.form;\r\n            let fd = new FormData();\r\n            for(let key in forms){\r\n                let val = forms[key];\r\n                fd.append(key, val);\r\n            }\r\n            var res = await api.put(`/restaurant/${props.match.params.rid}/food/${props.location.query.fid}`, fd);\r\n\r\n            if(res.status === 200){\r\n                props.history.push(`/manage/r/${props.match.params.rid}/food`);\r\n            }else{\r\n                alert('修改失败');\r\n                props.history.push(`/manage/r/${props.match.params.rid}/food`);\r\n            }\r\n        }\r\n\r\n        imgChange = (e) => {\r\n            this.state.form.img = e.target.files[0];\r\n        }\r\n          \r\n        render() {\r\n            return (\r\n                <div style={{width: '600px', padding: '28px 40px'}}>\r\n                    <h3>菜品修改</h3>\r\n                    <Form labelPosition='left' labelWidth=\"60\" model={this.state.form} className=\"demo-form-stacked\">\r\n                        <Form.Item label=\"名称：\">\r\n                            <Input value={this.state.form.name} onChange={this.onChange.bind(this, 'name')}></Input>\r\n                        </Form.Item>\r\n                        <Form.Item label=\"价格：\">\r\n                            <Input value={this.state.form.price} onChange={this.onChange.bind(this, 'price')}></Input>\r\n                        </Form.Item>\r\n                        <Form.Item label=\"状态：\">\r\n                            <Select value={this.state.form.status} placeholder=\"请选择菜品状态\" onChange={this.onChange.bind(this, 'status')}>\r\n                                <Select.Option label=\"上架\" value=\"on\"></Select.Option>\r\n                                <Select.Option label=\"下架\" value=\"off\"></Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                        <Form.Item label=\"描述：\">\r\n                            <Input value={this.state.form.desc} onChange={this.onChange.bind(this, 'desc')}></Input>\r\n                        </Form.Item>\r\n                        <Form.Item label=\"分类：\">\r\n                            <Select value={this.state.form.category} placeholder=\"请选择菜品分类\" onChange={this.onChange.bind(this, 'category')} style={{width:'100%'}}>\r\n                                <Select.Option label=\"家常\" value=\"家常\"></Select.Option>\r\n                                <Select.Option label=\"荤菜\" value=\"荤菜\"></Select.Option>\r\n                                <Select.Option label=\"凉菜\" value=\"凉菜\"></Select.Option>\r\n                                <Select.Option label=\"海鲜\" value=\"海鲜\"></Select.Option>\r\n                                <Select.Option label=\"汤类\" value=\"汤类\"></Select.Option>\r\n                                <Select.Option label=\"主食甜点\" value=\"主食甜点\"></Select.Option>\r\n                                <Select.Option label=\"饮品\" value=\"饮品\"></Select.Option>\r\n                            </Select>\r\n                        </Form.Item>\r\n                        <Form.Item label=\"图片：\">\r\n                            <input type='file' onChange={this.imgChange} />\r\n                        </Form.Item>\r\n                    </Form>\r\n                    <Button type=\"primary\" onClick={this.confilm}>确认修改</Button>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    return <FormItem />\r\n})","/*\r\n * @Author: your name\r\n * @Date: 2019-11-25 16:22:19\r\n * @LastEditTime: 2019-11-30 09:41:15\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\order-system\\frontend\\src\\AddFood.js\r\n */\r\nimport React from 'react';\r\nimport api from './api';\r\n\r\nimport {Select, Form, Input, Button} from 'element-react';\r\n\r\n\r\nexport default class FormItem extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {\r\n            form: {\r\n                name: '',\r\n                price: '',\r\n                status: '',\r\n                desc: '',\r\n                category: '',\r\n                img: null,\r\n            }\r\n        };\r\n    }\r\n        \r\n    onChange(key, value) {\r\n        this.setState({\r\n            form: Object.assign(this.state.form, { [key]: value })\r\n        });\r\n    }\r\n\r\n    confilm = async() => {\r\n        let forms = this.state.form;\r\n        let fd = new FormData();\r\n        for(let key in forms){\r\n            let val = forms[key];\r\n            fd.append(key, val);\r\n        }\r\n        \r\n        var res = await api.post(`/restaurant/${this.props.match.params.rid}/food`, fd);\r\n        if(res.status === 200){\r\n            this.props.history.push(`/manage/r/${this.props.match.params.rid}/food`);\r\n        }else{\r\n            alert('添加失败');\r\n            this.props.history.push(`/manage/r/${this.props.match.params.rid}/food`);\r\n        }\r\n    }\r\n\r\n    imgChange = (e) => {\r\n        this.state.form.img = e.target.files[0];\r\n    }\r\n        \r\n    render() {\r\n        return (\r\n            <div style={{width: '600px', padding: '28px 40px'}}>\r\n                <Form labelPosition='left' labelWidth=\"60\" model={this.state.form} className=\"demo-form-stacked\">\r\n                    <Form.Item label=\"名称：\">\r\n                        <Input value={this.state.form.name} onChange={this.onChange.bind(this, 'name')}></Input>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"价格：\">\r\n                        <Input value={this.state.form.price} onChange={this.onChange.bind(this, 'price')}></Input>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"状态：\">\r\n                        <Select value={this.state.form.status} placeholder=\"请选择菜品状态\" onChange={this.onChange.bind(this, 'status')}>\r\n                            <Select.Option label=\"上架\" value=\"on\"></Select.Option>\r\n                            <Select.Option label=\"下架\" value=\"off\"></Select.Option>\r\n                        </Select>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"描述：\">\r\n                        <Input value={this.state.form.desc} onChange={this.onChange.bind(this, 'desc')}></Input>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"分类：\">\r\n                        <Select value={this.state.form.category} placeholder=\"请选择菜品分类\" onChange={this.onChange.bind(this, 'category')} style={{width:'100%'}}>\r\n                            <Select.Option label=\"家常\" value=\"家常\"></Select.Option>\r\n                            <Select.Option label=\"荤菜\" value=\"荤菜\"></Select.Option>\r\n                            <Select.Option label=\"凉菜\" value=\"凉菜\"></Select.Option>\r\n                            <Select.Option label=\"海鲜\" value=\"海鲜\"></Select.Option>\r\n                            <Select.Option label=\"汤类\" value=\"汤类\"></Select.Option>\r\n                            <Select.Option label=\"主食甜点\" value=\"主食甜点\"></Select.Option>\r\n                            <Select.Option label=\"饮品\" value=\"饮品\"></Select.Option>\r\n                        </Select>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"图片：\">\r\n                        <input type='file' onChange={this.imgChange} />\r\n                    </Form.Item>\r\n                </Form>\r\n                <Button type=\"primary\" onClick={this.confilm}>确认添加</Button>\r\n            </div>\r\n        )\r\n    }\r\n}","/*\r\n * @Author: your name\r\n * @Date: 2019-11-24 16:41:59\r\n * @LastEditTime: 2019-11-30 14:04:13\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\order-system\\frontend\\src\\RestaurantManage.js\r\n */\r\nimport React, {Suspense} from 'react';\r\nimport {Switch, Link, Route, withRouter} from 'react-router-dom';\r\nimport OrderManage from './OrderManage';\r\nimport FoodManage from './FoodManage';\r\nimport DeskManage from './DeskManage';\r\nimport ChangeFood from './ChangeFood';\r\nimport AddFood from './AddFood';\r\nimport api from './api';\r\nimport createFetcher from './create-fetcher';\r\nimport history from './history';\r\n\r\nimport {Menu, Button} from 'element-react'\r\nimport './CSS/RestaurantManage.css';\r\n\r\n\r\nconst userInfoFetcher = createFetcher(() => {\r\n    return api.get('/userinfo').catch(() => {\r\n        history.push('/')\r\n    })\r\n})\r\nfunction RestaurantInfo(){\r\n    var info = userInfoFetcher.read()\r\n    return (\r\n        <div className='restaurant-header'>\r\n            欢迎来到后台：{info.data.title}\r\n        </div>\r\n    )\r\n}\r\n\r\nvar navStyle = {\r\n    textDecoration: 'none',\r\n    color: '#000'\r\n}\r\nexport default withRouter(function (props){\r\n    async function logout(){\r\n        await api.get('/logout');\r\n        props.history.push('/')\r\n    }\r\n    return (\r\n        <div className=\"restaurant-manage\">\r\n            <header>\r\n                <Suspense fallback={<div>Loading...</div>}>\r\n                    <RestaurantInfo />\r\n                </Suspense>\r\n            </header>\r\n            <section>\r\n                <aside>\r\n                    <Menu className=\"el-menu-vertical-demo\" defaultActive='1' style={{backgroundColor:'#E5E9F2', width: '180px'}}>\r\n                        <Link to={`/manage/r/${props.match.params.rid}/order`} style={navStyle}><Menu.Item index=\"1\">订单管理</Menu.Item></Link>\r\n                        <Link to={`/manage/r/${props.match.params.rid}/food`} style={navStyle}><Menu.Item index=\"2\">菜品管理</Menu.Item></Link>\r\n                        <Link to={`/manage/r/${props.match.params.rid}/desk`} style={navStyle}><Menu.Item index=\"3\">桌面管理</Menu.Item></Link>\r\n                        <Menu.Item index=\"4\"><Button onClick={logout}>退出</Button></Menu.Item>\r\n                    </Menu>\r\n                </aside>\r\n                <main>\r\n                    <Switch>\r\n                        <Route path='/manage/r/:rid/order' component={OrderManage} />\r\n                        <Route path='/manage/r/:rid/food' component={FoodManage} />\r\n                        <Route path='/manage/r/:rid/desk' component={DeskManage} />\r\n                        <Route path='/manage/r/:rid/changefood' component={ChangeFood} />\r\n                        <Route path='/manage/r/:rid/addfood' component={AddFood} />\r\n                    </Switch>\r\n                </main>\r\n            </section>\r\n        </div>\r\n    )\r\n})\r\n","/*\r\n * @Author: your name\r\n * @Date: 2019-11-24 16:42:34\r\n * @LastEditTime: 2019-11-30 15:24:24\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\order-system\\frontend\\src\\Login.js\r\n */\r\nimport React from 'react';\r\nimport {Button} from 'element-react';\r\nimport api from './api';\r\nimport {Input, Form} from 'element-react';\r\nimport bgi from './CSS/bgi.jpeg';\r\n\r\nlet bgcStyle ={\r\n    backgroundImage: 'url(' + bgi + ')',\r\n    backgroundSize: '100% 100%',\r\n    padding: '130px 30px 30px 30px'\r\n}\r\nvar loginStyle = {\r\n    width: '520px',\r\n    margin: 'auto',\r\n    border: '1px solid #d1dbe5',\r\n    borderRadius: '4px',\r\n}\r\nvar loginHeader = {\r\n    width: '100%',\r\n    height: '60px',\r\n    backgroundColor: '#20A0FF',\r\n    color: '#fff',\r\n    textAlign: 'center',\r\n    lineHeight: '60px',\r\n    marginBottom: '20px', \r\n}\r\n\r\nexport default class LoginForm extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            form: {\r\n                name: '',\r\n                password: '',\r\n                captcha: ''\r\n            },\r\n            captchaUrl: '',\r\n        };\r\n    }\r\n      \r\n    onChange(key, value) {\r\n        this.setState({\r\n            form: Object.assign(this.state.form, { [key]: value })\r\n        });\r\n    }\r\n    \r\n    componentDidMount(){\r\n        api.get('/captcha').then(res => {\r\n            this.setState({captchaUrl: 'data:image/svg+xml;base64,' + btoa(res.data)});\r\n        })\r\n    }\r\n    login = async () => {\r\n        try{\r\n            var res = await api.post('/login', this.state.form);\r\n            this.props.history.push(`/manage/r/${res.data.id}/food`);\r\n        }catch(e){\r\n            alert(e.response.data.msg);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={bgcStyle}>\r\n                <div style={loginStyle}>\r\n                    <div style={loginHeader}>\r\n                        餐厅管理员登录\r\n                    </div>\r\n                    <div style={{width: '95%', padding: '20px', marginRight: '10px', boxSizing: 'border-box'}}>\r\n                        <Form labelPosition={this.state.labelPosition} labelWidth=\"90\" model={this.state.form} className=\"demo-form-stacked\">\r\n                            <Form.Item label=\"用户名：\">\r\n                                <Input value={this.state.form.name} onChange={this.onChange.bind(this, 'name')}></Input>\r\n                            </Form.Item>\r\n                            <Form.Item label=\"密码：\">\r\n                                <Input type='password' value={this.state.form.password} onChange={this.onChange.bind(this, 'password')}></Input>\r\n                            </Form.Item>\r\n                            <Form.Item label=\"验证码：\">\r\n                                <Input value={this.state.form.captcha} onChange={this.onChange.bind(this, 'captcha')}></Input>\r\n                            </Form.Item>\r\n                            <img style={{marginLeft: '90px'}} src={this.state.captchaUrl} alt='captcha' /><span style={{color: '#ccc'}}>验证码</span>\r\n                        </Form>\r\n                        <Button style={{width: '60%', margin: '10px 0 0 90px'}} type=\"primary\" onClick={this.login}>登录</Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","/*\r\n * @Author: your name\r\n * @Date: 2019-11-24 17:06:05\r\n * @LastEditTime: 2019-11-28 21:09:26\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\order-system\\frontend\\src\\HomePage.js\r\n */\r\nimport React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {Button} from 'element-react';\r\nimport bgi from './CSS/bgi.jpeg';\r\n\r\nvar homePage={\r\n    width: '500px', \r\n    height: '300px',\r\n    border: '1px solid #d1dbe5',\r\n    borderRadius: '8px',\r\n    margin: '70px auto',\r\n    textAlign: 'center',\r\n    overflow: 'hidden',\r\n}\r\nvar backgroundStyle = {\r\n    width: '100%',\r\n    height: '410px',\r\n    padding: '100px 0',\r\n    backgroundImage: 'url(' + bgi + ')',\r\n    backgroundSize: '100% 100%',\r\n}\r\nvar headerStyle = {\r\n    width: '100%',\r\n    height: '60px',\r\n    backgroundColor: '#1D8CE0',\r\n    color: '#fff',\r\n    textAlign: 'center',\r\n    lineHeight: '60px',\r\n    marginBottom: '20px',\r\n}\r\nvar buttonStyle = {\r\n    width: '100px',\r\n    height: '80px',\r\n    margin: '20px',\r\n}\r\nexport default function(){\r\n    return (\r\n        <div style={backgroundStyle}>\r\n            <div style={homePage}>\r\n                <div style={headerStyle}>\r\n                    欢迎使用小猫咪点餐系统\r\n                </div>\r\n                <div style={{height: '220px', marginTop: '40px'}}>\r\n                    <Link to=\"/login\"><Button type=\"primary\" style={buttonStyle}>登录</Button></Link>\r\n                    <Link to=\"/register\"><Button type=\"primary\" style={buttonStyle}>注册</Button></Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","/*\r\n * @Author: your name\r\n * @Date: 2019-11-26 14:47:02\r\n * @LastEditTime: 2019-11-27 21:38:33\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\order-system\\frontend\\src\\OrderSuccess.js\r\n */\r\nimport React from 'react';\r\n\r\n\r\nexport default function(props){\r\n    var success = {\r\n        width: '500px',\r\n        height: '400px',\r\n        border: '1px solid #d1dbe5',\r\n        borderRadius: '5px',\r\n        margin: '100px auto',\r\n        textAlign: 'center',\r\n    }\r\n    return (\r\n        <div style={success}>\r\n            <h2 style={{borderBottom: '1px solid #d1dbe5', height: '80px', lineHeight: '80px'}}>下单成功!</h2>\r\n            <p style={{height: '100px',fontSize: '24px',lineHeight: '100px'}}>总价格：</p>\r\n            <p style={{height: '80px',fontSize: '30px',color: 'red'}}>￥{props.location.state && props.location.state.totalPrice}元</p>\r\n            <p>祝您用餐愉快！</p>\r\n        </div>\r\n    )\r\n}","/*\r\n * @Author: your name\r\n * @Date: 2019-11-27 22:32:49\r\n * @LastEditTime: 2019-11-30 15:27:48\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\order-system\\frontend\\src\\Register.js\r\n */\r\nimport React from 'react';\r\nimport {Button} from 'element-react';\r\nimport api from './api';\r\nimport {Input, Form} from 'element-react'\r\nimport bgi from './CSS/bgi.jpeg';\r\n\r\nlet bgcStyle ={\r\n    backgroundImage: 'url(' + bgi + ')',\r\n    backgroundSize: '100% 100%',\r\n    padding: '130px 30px 30px 30px'\r\n}\r\nvar registerStyle = {\r\n    width: '520px',\r\n    margin: 'auto',\r\n    border: '1px solid #d1dbe5',\r\n    borderRadius: '4px',\r\n}\r\nvar registerHeader = {\r\n    width: '100%',\r\n    height: '60px',\r\n    backgroundColor: '#20A0FF',\r\n    color: '#fff',\r\n    textAlign: 'center',\r\n    lineHeight: '60px',\r\n    marginBottom: '20px', \r\n}\r\n\r\nexport default class LoginForm extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            form: {\r\n                name: '',\r\n                password: '',\r\n                email: '',\r\n                title: '',\r\n            },\r\n        };\r\n    }\r\n      \r\n    onChange(key, value) {\r\n        this.setState({\r\n            form: Object.assign(this.state.form, { [key]: value })\r\n        });\r\n    }\r\n    \r\n    \r\n    rigister = async () => {\r\n        try{\r\n            await api.post('/register', this.state.form)\r\n            this.props.history.push('/');\r\n        }catch(e){\r\n            alert(e.response.data.msg);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={bgcStyle}>\r\n                <div style={registerStyle}>\r\n                    <div style={registerHeader}>\r\n                        餐厅注册\r\n                    </div>\r\n                    <div style={{width: '95%', padding: '20px', marginRight: '10px', boxSizing: 'border-box'}}>\r\n                        <Form labelPosition={this.state.labelPosition} labelWidth=\"90\" model={this.state.form} className=\"demo-form-stacked\">\r\n                            <Form.Item label=\"餐厅账号：\">\r\n                                <Input value={this.state.form.name} onChange={this.onChange.bind(this, 'name')}></Input>\r\n                            </Form.Item>\r\n                            <Form.Item label=\"密码：\">\r\n                                <Input type='password' value={this.state.form.password} onChange={this.onChange.bind(this, 'password')}></Input>\r\n                            </Form.Item>\r\n                            <Form.Item label=\"邮箱：\">\r\n                                <Input value={this.state.form.email} onChange={this.onChange.bind(this, 'email')}></Input>\r\n                            </Form.Item>\r\n                            <Form.Item label=\"餐厅名称：\">\r\n                                <Input value={this.state.form.title} onChange={this.onChange.bind(this, 'title')}></Input>\r\n                            </Form.Item>\r\n                        </Form>\r\n                        <Button style={{width: '60%', margin: '10px 0 0 90px'}} type=\"primary\" onClick={this.rigister}>注册</Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","/*\n * @Author: your name\n * @Date: 2019-11-24 15:45:22\n * @LastEditTime: 2019-11-28 21:03:56\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: \\order-system\\frontend\\src\\App.js\n */\nimport React from 'react';\nimport {Router, Route, Switch} from 'react-router-dom';\nimport './App.css';\nimport LandingPage from './LandingPage';\nimport FoodCart from './FoodCart';\nimport RestaurantManage from './RestaurantManage';\nimport Login from './Login';\nimport HomePage from './HomePage';\nimport history from './history';\nimport OrderSuccess from './OrderSuccess';\nimport Register from './Register';\n\n//element-io组件\nimport 'element-theme-default';\n\n//用户侧：\n// 扫码进入页面，选择人数: /landing/restaurant/r/:rid/desk/:did\n// 点餐页面：             /restaurant/r/:rid/desk/d/did/c/:cid\n//点餐成功页面：          /r/:rid/d/:did/order-success\n\n//商户侧：登录，注册\n//管理页面：/manage/r/:rid\n//订单管理：/manage/r/:rid/order\n//订单详情：/manage/r/:rid/order/:id\n//菜品管理：/manage/r/:rid/food\n//桌面管理：/manage/r/:rid/desk\n\nfunction App() {\n  return (\n    <Router history={history}>\n      <Switch>\n        <Route path=\"/\" exact component={HomePage} />\n        <Route path='/landing/r/:rid/d/:did' component={LandingPage} />\n        <Route path='/r/:rid/d/:did/c/:count' component={FoodCart} />\n        <Route path='/r/:rid/d/:did/order-success' component={OrderSuccess} />\n        <Route path='/manage/r/:rid' component={RestaurantManage} />\n        <Route path='/login' component={Login} />\n        <Route path='/register' component={Register} />\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/*\n * @Author: your name\n * @Date: 2019-11-24 15:45:22\n * @LastEditTime: 2019-11-25 09:19:53\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: \\order-system\\frontend\\src\\index.js\n */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './set-global';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/bgi.48720944.jpeg\";"],"sourceRoot":""}